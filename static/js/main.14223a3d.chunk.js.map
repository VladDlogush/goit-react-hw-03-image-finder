{"version":3,"sources":["components/Dashboard/TransactionHistory/TransactionHistory.module.css","components/Dashboard/Controls/Controls.module.css","components/Dashboard/Controls/Controls.js","components/Dashboard/Balance/Balance.js","components/Dashboard/TransactionHistory/TransactionHistory.js","components/Dashboard/Dashboard.js","components/App/App.js","index.js","components/Dashboard/Balance/Balance.module.css"],"names":["module","exports","toast","configure","Controls","handleChange","e","setState","input","target","value","handleClick","props","handleTransaction","balance","state","amount","Number","date","Date","toLocaleString","transaction","id","shortid","generate","type","name","reset","this","className","styles","controls","onChange","controls__input","onClick","controls__button","Component","Balance","transactions","handleTotalAmount","filter","reduce","acc","role","aria-label","balance__text","TransactionHistory","history","transaction__head","transaction__item","map","key","Dashboard","prevState","dashboard","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.14223a3d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"TransactionHistory_history__3T0WM\",\"transaction__head\":\"TransactionHistory_transaction__head__YaWb7\",\"transaction__item\":\"TransactionHistory_transaction__item__JdTfM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__3NPwc\",\"controls__input\":\"Controls_controls__input__27ZZG\",\"controls__button\":\"Controls_controls__button__33LmI\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport shortid from 'shortid';\nimport { toast } from 'react-toastify';\nimport styles from './Controls.module.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\ntoast.configure();\n\nclass Controls extends Component {\n  constructor() {\n    super();\n    this.state = {\n      input: '',\n    };\n  }\n\n  handleChange = e => {\n    this.setState({\n      input: e.target.value,\n    });\n  };\n\n  handleClick = e => {\n    const { handleTransaction, balance } = this.props;\n    const { input } = this.state;\n\n    const amount = Number(input);\n    const date = new Date().toLocaleString();\n\n    const transaction = {\n      id: shortid.generate(),\n      type: e.target.name,\n      amount,\n      date,\n    };\n\n    if (input === '0' || input === '' || Number(input) <= 0) {\n      toast('Введите сумму для проведения операции!');\n      this.reset();\n      return;\n    }\n\n    if (input > balance && transaction.type === 'withdrawal') {\n      toast('На счету недостаточно средств для проведения операции!');\n      this.reset();\n      return;\n    }\n\n    handleTransaction(transaction);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ input: '' });\n  };\n\n  render() {\n    const { input } = this.state;\n    return (\n      <section className={styles.controls}>\n        <input\n          type=\"number\"\n          name=\"balance\"\n          value={input}\n          onChange={this.handleChange}\n          className={styles.controls__input}\n        />\n        <button\n          type=\"button\"\n          name=\"deposit\"\n          onClick={this.handleClick}\n          className={styles.controls__button}\n        >\n          Deposit\n        </button>\n        <button\n          type=\"button\"\n          name=\"withdrawal\"\n          onClick={this.handleClick}\n          className={styles.controls__button}\n        >\n          Withdraw\n        </button>\n      </section>\n    );\n  }\n}\n\nControls.propTypes = {\n  handleTransaction: PropTypes.func.isRequired,\n  balance: PropTypes.number.isRequired,\n};\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Balance.module.css';\n\nconst Balance = ({ transactions, balance }) => {\n  const handleTotalAmount = type => {\n    const amount = transactions\n      .filter(transaction => transaction.type === type)\n      .reduce((acc, transaction) => {\n        return Number(transaction.amount) + Number(acc);\n      }, 0);\n\n    return amount;\n  };\n\n  return (\n    <section className={styles.balance}>\n      <span role=\"img\" aria-label=\"deposit\" className={styles.balance__text}>\n        ⬆️{handleTotalAmount('deposit')}$\n      </span>\n      <span role=\"img\" aria-label=\"withdrawal\" className={styles.balance__text}>\n        ⬇️{handleTotalAmount('withdrawal')}$\n      </span>\n      <span className={styles.balance__text}>Balance: {balance}$</span>\n    </section>\n  );\n};\n\nBalance.propTypes = {\n  transactions: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n      amount: PropTypes.number.isRequired,\n      date: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n  balance: PropTypes.number.isRequired,\n};\n\nexport default Balance;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './TransactionHistory.module.css';\n\nconst TransactionHistory = ({ transactions = [] }) => {\n  return (\n    <table className={styles.history}>\n      <thead className={styles.transaction__head}>\n        <tr>\n          <th>Transaction</th>\n          <th>Amount</th>\n          <th>Date</th>\n        </tr>\n      </thead>\n      <tbody className={styles.transaction__item}>\n        {transactions.map(transaction => (\n          <tr key={transaction.id}>\n            <td>{transaction.type}</td>\n            <td>{transaction.amount}</td>\n            <td>{transaction.date}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nTransactionHistory.propTypes = {\n  transactions: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n      amount: PropTypes.number.isRequired,\n      date: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default TransactionHistory;\n","import React, { Component } from 'react';\nimport styles from './Dashboard.module.css';\nimport Controls from './Controls/Controls';\nimport Balance from './Balance/Balance';\nimport TransactionHistory from './TransactionHistory/TransactionHistory';\n\nclass Dashboard extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      transactions: [],\n      balance: 0,\n    };\n  }\n\n  handleTransaction = transaction => {\n    this.setState(prevState => {\n      return {\n        transactions: [...prevState.transactions, transaction],\n        balance:\n          transaction.type === 'withdrawal'\n            ? prevState.balance - transaction.amount\n            : prevState.balance + transaction.amount,\n      };\n    });\n  };\n\n  render() {\n    const { transactions, balance } = this.state;\n    return (\n      <div className={styles.dashboard}>\n        <Controls\n          handleTransaction={this.handleTransaction}\n          balance={balance}\n        />\n        <Balance transactions={transactions} balance={balance} />\n        <TransactionHistory transactions={transactions} />\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport './App.css';\nimport Dashboard from '../Dashboard/Dashboard';\n\nconst App = () => (\n  <div className=\"App\">\n    <Dashboard />\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__2vsKK\",\"balance__text\":\"Balance_balance__text__2blyd\"};"],"sourceRoot":""}