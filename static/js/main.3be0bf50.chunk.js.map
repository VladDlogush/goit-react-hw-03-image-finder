{"version":3,"sources":["components/App/App.module.css","components/PhotoCard/PhotoCard.module.css","components/Gallery/Gallery.module.css","components/SearchForm/SearchForm.module.css","components/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/Modal/Modal.jsx","components/SearchForm/SearchForm.jsx","components/Loader/Loader.jsx","services/getApi.jsx","components/App/App.jsx","index.js","components/Modal/Modal.module.css"],"names":["module","exports","PhotoCard","image","openModal","className","styled","photoCard","src","webformatURL","alt","tags","stats","statsItem","likes","views","comments","downloads","type","fullscreenButton","onClick","largeImageURL","Gallery","images","gallery","map","key","id","Modal","backdropRef","createRef","handleEsc","e","closeModal","props","keyCode","handleKeyPress","target","current","window","addEventListener","this","removeEventListener","modalImage","role","overlay","ref","modal","Component","SearchForm","state","query","handleChange","setState","value","handleSubmit","preventDefault","onSubmit","searchForm","autoComplete","onChange","placeholder","styles","fontSize","textAlign","Loader","style","getImages","currentPage","axios","get","then","response","data","hits","catch","err","console","log","App","toggle","scroll","isLoading","fetchImages","finally","handleButton","scrollTo","top","behavior","app","button","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3be0bf50.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1_QHF\",\"button\":\"App_button__135Ai\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__2KkcY\",\"stats\":\"PhotoCard_stats__ezZ7d\",\"statsItem\":\"PhotoCard_statsItem__1a3yE\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__1sUTu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__Nd-mO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__1ZfCt\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from './PhotoCard.module.css';\n\nconst PhotoCard = ({ image, openModal }) => {\n  return (\n    <div className={styled.photoCard}>\n      <img src={image.webformatURL} alt={image.tags} />\n\n      <div className={styled.stats}>\n        <p className={styled.statsItem}>\n          <i className=\"material-icons\">thumb_up</i>\n          {image.likes}\n        </p>\n        <p className={styled.statsItem}>\n          <i className=\"material-icons\">visibility</i>\n          {image.views}\n        </p>\n        <p className={styled.statsItem}>\n          <i className=\"material-icons\">comment</i>\n          {image.comments}\n        </p>\n        <p className={styled.statsItem}>\n          <i className=\"material-icons\">cloud_download</i>\n          {image.downloads}\n        </p>\n      </div>\n\n      <button\n        type=\"button\"\n        className={styled.fullscreenButton}\n        onClick={() => openModal(image.largeImageURL)}\n      >\n        <i className=\"material-icons\">zoom_out_map</i>\n      </button>\n    </div>\n  );\n};\n\nPhotoCard.propTypes = {\n  image: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    tags: PropTypes.string.isRequired,\n  }).isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from './Gallery.module.css';\nimport PhotoCard from '../PhotoCard/PhotoCard';\n\nconst Gallery = ({ images, openModal }) => {\n  return (\n    <ul className={styled.gallery}>\n      {images.map(image => (\n        <li key={image.id}>\n          <PhotoCard image={image} openModal={openModal} />\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      likes: PropTypes.number.isRequired,\n      views: PropTypes.number.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n    }),\n  ).isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from './Modal.module.css';\n\nclass Modal extends Component {\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleEsc);\n  }\n\n  handleEsc = e => {\n    const { closeModal } = this.props;\n\n    if (e.keyCode === 27) closeModal();\n  };\n\n  handleKeyPress = e => {\n    const { closeModal } = this.props;\n    if (e.target === this.backdropRef.current) closeModal();\n  };\n\n  render() {\n    const { modalImage } = this.props;\n    return (\n      <div\n        role=\"presentation\"\n        className={styled.overlay}\n        ref={this.backdropRef}\n        onClick={this.handleKeyPress}\n      >\n        <div className={styled.modal}>\n          <img src={modalImage} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  modalImage: PropTypes.string.isRequired,\n  closeModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from './SearchForm.module.css';\n\nclass SearchForm extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      query: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n\n    onSubmit(this.state.query);\n\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <form className={styled.searchForm} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          value={query}\n          onChange={this.handleChange}\n          placeholder=\"Search images...\"\n        />\n      </form>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React from 'react';\n\nconst styles = { fontSize: 40, textAlign: 'center' };\n\nconst Loader = () => <h1 style={styles}>Loading...</h1>;\n\nexport default Loader;\n","import axios from 'axios';\n\nconst getImages = (currentPage, query) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${currentPage}&per_page=12&key=13633512-2e4920fb59ca05e5eb038b80e`,\n    )\n    .then(response => response.data.hits)\n    .catch(err => console.log(err));\n};\n\nexport default getImages;\n","import React, { Component } from 'react';\nimport Gallery from '../Gallery/Gallery';\nimport Modal from '../Modal/Modal';\nimport SearchForm from '../SearchForm/SearchForm';\nimport Loader from '../Loader/Loader';\nimport styled from './App.module.css';\nimport getImages from '../../services/getApi';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    toggle: false,\n    modalImage: false,\n    query: '',\n    scroll: 1200,\n    isLoading: false,\n  };\n\n  fetchImages = query => {\n    this.setState(\n      {\n        images: [],\n        query,\n        toggle: false,\n        currentPage: 1,\n        isLoading: true,\n      },\n      () => {\n        const { currentPage } = this.state;\n        getImages(currentPage, query)\n          .then(response => this.setState({ images: [...response] }))\n          .catch(err => console.log(err))\n          .finally(() => this.setState({ isLoading: false, toggle: true }));\n      },\n    );\n  };\n\n  openModal = image => {\n    this.setState({ modalImage: image });\n  };\n\n  closeModal = () => {\n    this.setState({ modalImage: null });\n  };\n\n  handleButton = () => {\n    this.setState(\n      state => ({ currentPage: state.currentPage + 1 }),\n\n      () => {\n        const { currentPage, query } = this.state;\n        getImages(currentPage, query)\n          .then(response =>\n            this.setState(state => ({\n              images: [...state.images, ...response],\n            })),\n          )\n          .catch(err => console.log(err))\n          .finally(() => {\n            this.setState(\n              state => ({ scroll: state.scroll + 1500 }),\n              () => {\n                const { scroll } = this.state;\n                window.scrollTo({\n                  top: scroll,\n                  behavior: 'smooth',\n                });\n              },\n            );\n          });\n      },\n    );\n  };\n\n  render() {\n    const { images, toggle, modalImage, isLoading } = this.state;\n    return (\n      <div className={styled.app}>\n        <SearchForm onSubmit={this.fetchImages} />\n        {isLoading && <Loader />}\n        <Gallery images={images} openModal={this.openModal} />\n        {modalImage && (\n          <Modal modalImage={modalImage} closeModal={this.closeModal} />\n        )}\n        {toggle && (\n          <button\n            type=\"button\"\n            className={styled.button}\n            onClick={this.handleButton}\n          >\n            Load more\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__CTFbW\",\"modal\":\"Modal_modal__3ukKM\"};"],"sourceRoot":""}